(this["webpackJsonpdcard-clone"]=this["webpackJsonpdcard-clone"]||[]).push([[0],{120:function(e,t,s){},186:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),r=s(42),n=s.n(r),o=s(22),i=s(31),u=s(108),l=s(27),j="SET_HOT_FORUMS",b="SET_FEATURED_FORUMS",d="SET_HOT_POSTS",m={hotForums:[],featuredForums:[],currentTag:{home:"\u71b1\u9580"},hotPosts:[]},h=s(6),O=s(7),p=s(9),f=s(8),v=s(20),x=s(3),N=(s(120),s.p+"static/media/logo.b0a1bbe8.svg"),F=s(1),g=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"render",value:function(){return Object(F.jsxs)("div",{className:"search-bar",children:[Object(F.jsx)("input",{placeholder:"\u641c\u5c0b"}),Object(F.jsx)("button",{children:Object(F.jsx)("i",{className:"fas fa-search"})})]})}}]),s}(c.a.Component),y=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"render",value:function(){return Object(F.jsx)("div",{className:"header",children:Object(F.jsxs)("div",{className:"header-container",children:[Object(F.jsx)(v.b,{to:"/",className:"logo",children:Object(F.jsx)("img",{src:N,alt:"Dcard"})}),Object(F.jsx)(g,{})]})})}}]),s}(c.a.Component),k=s(111),w=(s(166),s(26)),C=s.n(w),S=s(44),T=s(45),_=s.n(T),M=function(e){return{type:j,hotForums:e}},P=function(e){return{type:b,featuredForums:e}},E=function(e){return{type:d,hotPosts:e}},H=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchHotForums(),this.props.fetchFeaturedForums()}},{key:"renderNormal",value:function(){return Object(F.jsxs)("div",{className:"nav-block",children:[Object(F.jsxs)(v.b,{className:"nav-item",to:"",children:[Object(F.jsx)("div",{className:"forum-icon",children:Object(F.jsx)("i",{className:"fas fa-list-alt"})}),Object(F.jsx)("p",{className:"forum-name",children:"\u6240\u6709\u770b\u677f"})]}),Object(F.jsxs)(v.b,{className:"nav-item",to:"",children:[Object(F.jsx)("div",{className:"forum-icon",children:Object(F.jsx)("i",{className:"fas fa-fire"})}),Object(F.jsx)("p",{className:"forum-name",children:"\u5373\u6642\u71b1\u9580\u770b\u677f"})]}),Object(F.jsxs)(v.b,{className:"nav-item",to:"",children:[Object(F.jsx)("div",{className:"forum-icon",children:Object(F.jsx)("i",{className:"fas fa-store"})}),Object(F.jsx)("p",{className:"forum-name",children:"\u597d\u7269\u7814\u7a76\u5ba4"})]}),Object(F.jsxs)(v.b,{className:"nav-item",to:"",children:[Object(F.jsx)("div",{className:"forum-icon",children:Object(F.jsx)("i",{className:"fas fa-gamepad"})}),Object(F.jsx)("p",{className:"forum-name",children:"\u904a\u6232\u5c08\u5340"})]})]})}},{key:"renderHotForums",value:function(){return Object(F.jsxs)("div",{className:"nav-block",children:[Object(F.jsx)("p",{children:"\u5373\u6642\u71b1\u9580\u770b\u677f"}),this.props.hotForums.map((function(e){return Object(F.jsxs)(v.b,{className:"nav-item",to:"/".concat(e.alias),children:[Object(F.jsx)("img",{className:"forum-icon",src:e.logo.url,alt:"Logo"}),Object(F.jsx)("p",{className:"forum-name",children:e.name})]},e.id)}))]})}},{key:"renderFeaturedForums",value:function(){return Object(F.jsxs)("div",{className:"nav-block",children:[Object(F.jsx)("p",{children:"Dcard \u7cbe\u9078\u770b\u677f"}),this.props.featuredForums.map((function(e){return Object(F.jsxs)(v.b,{className:"nav-item",to:"/".concat(e.alias),children:[Object(F.jsx)("img",{className:"forum-icon",src:e.logo.url,alt:"Logo"}),Object(F.jsx)("p",{className:"forum-name",children:e.name})]},e.id)}))]})}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"navbar",children:[this.renderNormal(),Object(F.jsxs)(k.a,{className:"scroll",timeout:"700",scrollbarMaxSize:"450",children:[this.renderHotForums(),this.renderFeaturedForums()]})]})}}]),s}(c.a.Component),D=Object(o.b)((function(e){return{hotForums:e.hotForums,featuredForums:e.featuredForums}}),{fetchHotForums:function(){return function(){var e=Object(S.a)(C.a.mark((function e(t){var s,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/apis/forums.json");case 2:s=e.sent,(a=s.data.filter((function(e){return e.subscriptionCount>2e5}))).length>8&&a.splice(8),t(M(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchFeaturedForums:function(){return function(){var e=Object(S.a)(C.a.mark((function e(t){var s,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/apis/forums.json");case 2:s=e.sent,a=s.data.filter((function(e){return e.subscriptionCount>14e4&&e.subscriptionCount<=2e5})),t(P(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(H),B=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"render",value:function(){var e=this;return Object(F.jsx)("div",{className:"homeNavbar",children:this.props.tags.map((function(t){return Object(F.jsx)("a",{className:"nav-item".concat(e.props.currentTag===t?" active":""),href:"/",children:t},t)}))})}}]),s}(c.a.Component),A=Object(o.b)((function(e){return{currentTag:e.currentTag.home}}),null)(B),U=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"renderAvatar",value:function(e,t){return e?Object(F.jsx)("div",{className:"post-avatar".concat("M"===t?" male":" female"),children:e[0].toUpperCase()}):"M"===t?Object(F.jsxs)("svg",{viewBox:"0 0 40 40",focusable:"false",className:"post-avatar",children:[Object(F.jsx)("title",{children:"\u7537"}),Object(F.jsx)("path",{fill:"#81D4FA",d:"M40 20a20 20 0 11-40 0 20 20 0 0140 0"}),Object(F.jsx)("path",{fill:"#2490BF",d:"M16 7.9C12.4 7.4 9.3 6 9.3 6s5.5 4.3 5 5.3c-.4 1-4.2 0-4.2 0l4 2a9.7 9.7 0 00-1.5 4.6l.1 3.4a1.5 1.5 0 10.8 2.9 8.3 8.3 0 006.2 5.3c.6 0 .6 2 .6 3.2-1.6 1-2.5 3-2 5v2.2a20.2 20.2 0 009.9-1.6l-.7-2.7v-.4l-.2-.4-.2-.4-.2-.3-.2-.3c-.7-1-1.7-1.6-2.9-1.8l.6-2.3s1.4-1 3-2.6l.4 1.3 1.4-2.5.9-1.8s3.8-10.3.8-13.9c-2.6-3-11-1.9-14.7-2.3"})]}):Object(F.jsxs)("svg",{className:"post-avatar",viewBox:"0 0 40 40",focusable:"false",children:[Object(F.jsx)("title",{children:"\u5973"}),Object(F.jsx)("path",{fill:"#F48FB1",d:"M40 20a20 20 0 11-40 0 20 20 0 0140 0"}),Object(F.jsx)("path",{fill:"#CB3A6B",d:"M28.7 17.5a9.6 9.6 0 00-1.4-4.4l.9-.6S25.5 6 17.9 7.3c-5.5 1-7.7 5.4-7.4 9C10.8 19.8 8.3 31 8.3 31l6.7 1.7a4.6 4.6 0 00-.7 1.1v.1a4.2 4.2 0 00-.4.8l-1.3 3.8a20 20 0 0010.6 1.1L23 37c.4-2-.4-4-2-5 0-1.1 0-3 .5-3.1 3-.6 5.1-2.5 6.2-5.3.3.2.6.2 1 .2a1.5 1.5 0 00-.2-3c.1-1 .2-2.2 0-3.3z"})]})}},{key:"renderPosts",value:function(){var e=this;return this.props.posts.map((function(t){return Object(F.jsxs)("div",{className:"post",children:[Object(F.jsxs)("div",{className:"post-top",children:[e.renderAvatar(t.department,t.gender),Object(F.jsxs)("div",{className:"txt",children:[Object(F.jsx)("div",{className:"post-forum",children:t.forumName}),"\uff0e",Object(F.jsx)("div",{classNames:"post-school",children:t.school})]})]}),Object(F.jsx)("div",{className:"post-mid",children:Object(F.jsxs)("div",{className:"txt",children:[Object(F.jsx)("div",{className:"post-title",children:t.title}),Object(F.jsx)("div",{className:"post-excerpt",children:t.excerpt})]})}),Object(F.jsx)("div",{className:"post-bot"})]},t.id)}))}},{key:"render",value:function(){return Object(F.jsx)("div",{className:"posts",children:this.renderPosts()})}}]),s}(c.a.Component),L=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchHotPosts()}},{key:"render",value:function(){return Object(F.jsxs)(a.Fragment,{children:[Object(F.jsx)("div",{className:"mainHeader",children:Object(F.jsx)(A,{tags:["\u71b1\u9580","\u6700\u65b0","\u8ffd\u8e64"]})}),Object(F.jsx)("div",{className:"content",children:Object(F.jsx)("img",{className:"banner",src:"https://megapx-assets.dcard.tw/images/95f12d4a-a244-4161-b68c-1fa9b07ce017/full.webp",alt:""})}),Object(F.jsx)(U,{posts:this.props.posts})]})}}]),s}(c.a.Component),R=Object(o.b)((function(e){return{posts:e.hotPosts}}),{fetchHotPosts:function(){return function(){var e=Object(S.a)(C.a.mark((function e(t){var s,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/apis/hotPosts.json");case 2:s=e.sent,a=s.data,t(E(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(L),z=function(e){Object(p.a)(s,e);var t=Object(f.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"render",value:function(){return Object(F.jsxs)(v.a,{children:[Object(F.jsx)(y,{}),Object(F.jsxs)("div",{className:"body-container",children:[Object(F.jsx)(D,{}),Object(F.jsx)("div",{className:"main",children:Object(F.jsx)(x.a,{path:"/",exact:!0,component:R})})]})]})}}]),s}(c.a.Component),J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,X=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(l.a)(Object(l.a)({},e),{},{hotForums:t.hotForums});case b:return Object(l.a)(Object(l.a)({},e),{},{featuredForums:t.featuredForums});case d:return Object(l.a)(Object(l.a)({},e),{},{hotPosts:t.hotPosts});default:return e}}),J(Object(i.a)(u.a)));n.a.render(Object(F.jsx)(o.a,{store:X,children:Object(F.jsx)(z,{})}),document.querySelector("#root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.14a77c9f.chunk.js.map